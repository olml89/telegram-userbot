services:

  # Bind ExceptionHandler to ExceptionHandlerPipeline
  olml89\TelegramUserbot\Backend\Shared\Domain\Exception\ExceptionHandler:
    alias: olml89\TelegramUserbot\Backend\Shared\Domain\Exception\ExceptionHandlerPipeline

  # Default ExceptionHandlerPipeline: caught exceptions
  olml89\TelegramUserbot\Backend\Shared\Domain\Exception\ExceptionHandlerPipeline:
    arguments:
      $exceptionHandlers:
        - '@olml89\TelegramUserbot\Backend\Shared\Infrastructure\Symfony\Exception\CaughtExceptionLogger'
        - '@olml89\TelegramUserbot\Backend\Shared\Infrastructure\Symfony\Exception\ExceptionRethrower'

  # Bind ExceptionEventHandler to NullableExceptionEventHandler (it does nothing)
  olml89\TelegramUserbot\Backend\Shared\Infrastructure\Symfony\ExceptionEvent\ExceptionEventHandler:
    alias: olml89\TelegramUserbot\Backend\Shared\Infrastructure\Symfony\ExceptionEvent\NullableExceptionEventHandler
